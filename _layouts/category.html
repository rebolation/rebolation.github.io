---
layout: base
---

<style>
@media (min-width: 640px) {
  .post-card {
    grid-template-columns: 140px 1fr ;
  }
}

@media (max-width: 640px) {
  .post-card {
    grid-template-columns: 1fr;
  }

  .post-card > .post-link {
    display: none
  }
}
</style>

<div class="home category_page">

  {%- if page.title -%}
    <h1 class="page-heading">{{ page.title }}</h1>
  {%- endif -%}

  {{ content }}

  {% if site.paginate %}
    {% assign posts = paginator.posts %}
  {% else %}
    {% assign posts = site.posts %}
  {% endif %}

  {%- if posts.size > 0 -%}
    {%- if page.list_title -%}
      <h2 class="post-list-heading">{{ page.list_title }}</h2>
    {%- endif -%}
    <ul class="post-list">
      {%- assign date_format = site.minima.date_format | default: "%Y-%m-%d" -%}


      {% for post in site.posts %}
        {% if post.path contains page.category %}
          <li class="post-card home_category" style="display: grid; gap: 30px; align-items: center;" 
            hx-trigger="click target::not(.another-link)" hx-get="{{ post.url | relative_url }}" hx-target="body" hx-swap="show:window:top" hx-push-url="true">

            {%- if post.image -%}
              <a class="post-link">
              <!-- <a class="post-link" hx-get="{{ post.url | relative_url }}" hx-target="body" hx-swap="show:window:top" hx-push-url="true"> -->
              <!-- <a class="post-link" href="{{ post.url | relative_url }}"> -->
                <img src="{{ post.image }}" alt="cover image" />
              </a>
            {%- endif -%}             
            <!--
            {%- if post.image -%}
            <a class="post-link" hx-get="{{ post.url | relative_url }}" hx-target="body" hx-swap="show:window:top" hx-push-url="true">
              {% if post.tags.size > 0 %}
                <img src="/images/{{ post.tags[0] }}.png" alt="cover image" />
              {% else %}
                <img src="{{ post.image }}" alt="cover image" />
              {%- endif -%}
            </a>
            {%- endif -%}
            -->

            <div class="post-content" style="flex-grow: 0;">
              <span class="post-meta">{{ post.date | date: date_format }}</span>
              <h3>
                <a class="post-link">
                <!-- <a class="post-link" hx-get="{{ post.url | relative_url }}" hx-target="body" hx-swap="show:window:top" hx-push-url="true"> -->
                <!-- <a class="post-link" href="{{ post.url | relative_url }}"> -->
                  {{ post.title | escape }}
                </a>
              </h3>
              <div class="summary">
              <!-- <div class="summary" hx-get="{{ post.url | relative_url }}" hx-target="body" hx-swap="show:window:top" hx-push-url="true"> -->
                {{ post.summary }}
              </div>
              <span class="post-meta">
                {{ post.author }} |
                <!-- <a hx-get="/{{ page.category }}" hx-target="body" hx-push-url="true" class="previous-page">{{ page.category }}</a> | -->
                {% for tag in post.tags %}
                  <a hx-get="/tags/#{{ tag }}" hx-target="body" hx-swap="show:none" hx-push-url="true" class="another-link">{{ tag }}</a>
                  <!-- <a href="/tags/#{{ tag }}">{{ tag }}</a> -->
                {% endfor %}
              </span>
            </div>

          </li>
        {% endif %}
      {% endfor %}


    </ul>

    {% if site.paginate %}
      <div class="pager">
        <ul class="pagination">
        {%- if paginator.previous_page %}
          <li><a href="{{ paginator.previous_page_path | relative_url }}" class="previous-page">{{ paginator.previous_page }}</a></li>
        {%- else %}
          <li><div class="pager-edge">?</div></li>
        {%- endif %}
          <li><div class="current-page">{{ paginator.page }}</div></li>
        {%- if paginator.next_page %}
          <li><a href="{{ paginator.next_page_path | relative_url }}" class="next-page">{{ paginator.next_page }}</a></li>
        {%- else %}
          <li><div class="pager-edge">?</div></li>
          {%- endif %}
        </ul>
      </div>
      {%- endif %}

      {%- endif -%}
</div>
